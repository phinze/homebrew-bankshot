# This file was generated by GoReleaser. DO NOT EDIT.
cask "bankshot" do
  binary "bankshotd"

  desc "Automatic SSH port forwarding and browser opening for remote development"
  homepage "https://github.com/phinze/bankshot"
  version "0.2.1"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "bankshot"

  on_macos do
    on_intel do
      url "https://github.com/phinze/bankshot/releases/download/v0.2.1/bankshot_darwin_x86_64.tar.gz"
      sha256 "9aead9603b78a18b1b1d7ee2b70f721fa91f42290ac1748867c6a3f98d6e7995"
    end
    on_arm do
      url "https://github.com/phinze/bankshot/releases/download/v0.2.1/bankshot_darwin_arm64.tar.gz"
      sha256 "c2a17a45d3761baf69379e0519c53325d496ab7f9ce748ff87048e9985f2202c"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/phinze/bankshot/releases/download/v0.2.1/bankshot_linux_x86_64.tar.gz"
      sha256 "29e932e5d84ccba6a53d09882dee5e693f4bda610f85e3b05cec2a80917a2b2f"
    end
    on_arm do
      url "https://github.com/phinze/bankshot/releases/download/v0.2.1/bankshot_linux_arm64.tar.gz"
      sha256 "b0a8eda0a17992e941db5a59e958bb688bf67757060d685f2411d8b7a9e3fbd4"
    end
  end

  postflight do
    if system_command("/usr/bin/xattr", args: ["-h"]).exit_status == 0
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/bankshot"]
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/bankshotd"]
    end
  end

  # No zap stanza required
end
