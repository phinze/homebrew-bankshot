# This file was generated by GoReleaser. DO NOT EDIT.
cask "bankshot" do
  binary "bankshotd"

  desc "Automatic SSH port forwarding and browser opening for remote development"
  homepage "https://github.com/phinze/bankshot"
  version "0.2.2"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "bankshot"

  on_macos do
    on_intel do
      url "https://github.com/phinze/bankshot/releases/download/v0.2.2/bankshot_darwin_x86_64.tar.gz"
      sha256 "5a31e41499d22fbb7d5f2ff9656b05d6d75c415a693c3f5b78d34984e1f031cd"
    end
    on_arm do
      url "https://github.com/phinze/bankshot/releases/download/v0.2.2/bankshot_darwin_arm64.tar.gz"
      sha256 "5a1c6387371b299e52ac50e98e98fce53ea82b3e77b4d396603fb977b74cbc88"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/phinze/bankshot/releases/download/v0.2.2/bankshot_linux_x86_64.tar.gz"
      sha256 "f61c0687af1037418c34ceafb59b722b18cf4ade8b1daf64e0f8803671f6cfd6"
    end
    on_arm do
      url "https://github.com/phinze/bankshot/releases/download/v0.2.2/bankshot_linux_arm64.tar.gz"
      sha256 "6d5e191e1fc26a0e7b3b235f2457fb69f650d2e8698cf7f81e696013513e8493"
    end
  end

  postflight do
    if system_command("/usr/bin/xattr", args: ["-h"]).exit_status == 0
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/bankshot"]
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/bankshotd"]
    end
  end

  service "run [opt_bin/"bankshotd"]
keep_alive true
log_path var/"log/bankshotd.log"
error_log_path var/"log/bankshotd.error.log"
"

  # No zap stanza required
end
